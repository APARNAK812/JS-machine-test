<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ToDo</title>
     <script src=" https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/jquery.validate.min.js"></script>
    <script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/additional-methods.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
</head>
<body style="background-color: rgb(243, 126, 179);">
    <div class="card mt-5 mx-auto " style="width: 40rem;height: 500px;background-color: rgb(204, 243, 122);
     box-shadow: 5px 5px 5px 5px rgb(89, 69, 69) ">
           <h1 class="mx-auto mt-3 text-info">To-Do LIST</h1>
            <div class="row mt-5 g-3 align-items-center">
            <div class="col-auto mx-auto col-sm-8">
              <input type="text" id="text" name="text" class="form-control" placeholder="Task">
              <span id = "text_error"></span>
            </div>
            <div class="col-auto me-5">
                <button  type="button" class="btn btn-success" onclick="addTask();">Add</button>
            </div>
        </div>
   
      
      <table class="table mx-auto" id="todo_tb">
        <thead >
          <tr >
            <th scope="col"></th>
            <th scope="col"></th>
            <th scope="col"></th>
            <th scope="col"></th>
        </tr>
        
           </thead></div> 
           <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
<script>
    var s_no = 0 
function addTask(){
    // VALIDATION STARTS
    var task = document.getElementById('text')
    var task_error = document.getElementById('text_error')
    if(task.value == "") {
                task.style.border ='1px solid red'
                task_error.innerHTML = 'Please fill the task'
                task_error.style.color= 'red'
                return false
            }
            else{
                 task_error.innerHTML = ""
            }
            // VALIDATION ENDS


    //  TODO LIST
      
       
       var task = document.getElementById('text')//get value from task box
    
        var new_tr = document.createElement('tr')  //create new table row
        s_no++
        var row_no = 'row' + s_no
        new_tr.setAttribute('id',row_no)
        var todo_tb = document.getElementById('todo_tb')
        var td_slno = document.createElement ('td') 
        var td_task = document.createElement ('td')
        var td_action = document.createElement ('td') 
        var td_move = document.createElement ('td')

        new_tr.appendChild(td_slno)
        new_tr.appendChild(td_task)
        new_tr.appendChild(td_action)
        new_tr.appendChild(td_move)

        // td_slno.innerHTML = s_no
        td_task.innerHTML = task.value
       
        td_action.innerHTML = "<button type='button' class='btn btn-success' onclick=update() ><i class='text-dark bi bi-pencil'></i></button> <button class='btn btn-danger' onclick=remove()> <i class='text-dark bi bi-trash3-fill'></i></button>" 
        td_move.innerHTML =  "<button type='button' id='up' class='btn btn-warning' onclick=moveUp() ><i class='bi  bi-arrow-up-square-fill'></i></button> <button id='down' class='btn btn-info' onclick=moveDown()> <i class='bi bi-arrow-down-square-fill'></i></button>" 
        
        todo_tb.appendChild(new_tr)
}

//UPDATE
function update(){
    var selected_row = event.target.parentNode.parentNode
    selected_row.style.textDecoration = 'line-through'
}
//DELETE
function remove(){
         var selected_row = event.target.parentNode.parentNode
         selected_row.remove()
        alert('Task deleted')
       }
function moveUp() {
    var selected_row = event.target.parent
    if (direction === "up" && currentIndex > 0) {
        var task = selected_row(currentIndex, 1)[0];
        todoList.splice(currentIndex - 1, 0, task);
    }else{
      
    }
    
}
      

    



</script>
</body>
</html>